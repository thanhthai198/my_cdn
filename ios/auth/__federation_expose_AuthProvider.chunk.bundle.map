{"version":3,"file":"__federation_expose_AuthProvider.chunk.bundle","sources":["webpack:///./node_modules/@swc/helpers/cjs/_object_spread.cjs","webpack:///./node_modules/@swc/helpers/cjs/_object_spread_props.cjs","webpack:///./node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack:///./src/contexts/AuthContext.ts","webpack:///./node_modules/react/jsx-runtime.js","webpack:///./node_modules/@swc/helpers/cjs/_class_call_check.cjs","webpack:///./src/services/AuthService.ts","webpack:///./src/providers/AuthProvider.tsx"],"sourcesContent":["\"use strict\";\n\nvar _define_property = require(\"./_define_property.cjs\");\n\nfunction _object_spread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(\n                Object.getOwnPropertySymbols(source).filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n                })\n            );\n        }\n\n        ownKeys.forEach(function(key) {\n            _define_property._(target, key, source[key]);\n        });\n    }\n\n    return target;\n}\nexports._ = _object_spread;\n","\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n\n    if (Object.getOwnPropertyDescriptors) Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n\n    return target;\n}\nexports._ = _object_spread_props;\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","import React from 'react';\n\nconst AuthContext = React.createContext({\n  signIn: () => {},\n  signOut: () => {},\n  signUp: () => {},\n});\n\nconst useAuth = () => React.useContext(AuthContext);\n\nexport {useAuth, AuthContext};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","\"use strict\";\n\nfunction _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexports._ = _class_call_check;\n","import AsyncStorage from '@react-native-async-storage/async-storage';\n\nclass AuthService {\n  TOKEN_KEY = 'token';\n\n  getCredentials(): Promise<string | null> {\n    return AsyncStorage.getItem(this.TOKEN_KEY);\n  }\n\n  setCredentials(token: string): Promise<void> {\n    return AsyncStorage.setItem(this.TOKEN_KEY, token);\n  }\n\n  removeCredentials(): Promise<void> {\n    return AsyncStorage.removeItem(this.TOKEN_KEY);\n  }\n\n  static shared = new AuthService();\n}\n\nexport default AuthService;\n","import React from 'react';\nimport AuthService from '../services/AuthService';\nimport {AuthContext} from '../contexts/AuthContext';\n\nenum ActionTypes {\n  RESTORE_TOKEN = 'RESTORE_TOKEN',\n  SIGN_IN = 'SIGN_IN',\n  SIGN_OUT = 'SIGN_OUT',\n}\n\ntype Action = {\n  type: ActionTypes;\n  payload?: any;\n};\n\ntype State = {\n  isLoading: boolean;\n  isSignout: boolean;\n};\n\nconst reducer = (prevState: State, action: Action): State => {\n  switch (action.type) {\n    case ActionTypes.RESTORE_TOKEN:\n      return {\n        ...prevState,\n        isSignout: action.payload,\n        isLoading: false,\n      };\n    case ActionTypes.SIGN_IN:\n      return {\n        ...prevState,\n        isSignout: false,\n      };\n    case ActionTypes.SIGN_OUT:\n      return {\n        ...prevState,\n        isSignout: true,\n      };\n    default:\n      return prevState;\n  }\n};\n\nconst AuthProvider = ({\n  children,\n}: {\n  children: (data: State) => React.ReactNode;\n}) => {\n  const [state, dispatch] = React.useReducer(reducer, {\n    isLoading: false,\n    isSignout: false,\n  });\n\n  const authContext = React.useMemo(\n    () => ({\n      signIn: async () => {\n        try {\n          await AuthService.shared.setCredentials('dummy-auth-token');\n        } catch (e) {\n          // Handle error\n        }\n\n        dispatch({type: ActionTypes.SIGN_IN});\n      },\n      signOut: async () => {\n        try {\n          await AuthService.shared.removeCredentials();\n        } catch (e) {\n          // Handle error\n        }\n\n        dispatch({type: ActionTypes.SIGN_OUT});\n      },\n      signUp: async () => {\n        try {\n          await AuthService.shared.setCredentials('dummy-auth-token');\n        } catch (e) {\n          // Handle error\n        }\n\n        dispatch({type: ActionTypes.SIGN_IN});\n      },\n    }),\n    [],\n  );\n\n  React.useEffect(() => {\n    const restoreToken = async () => {\n      let userToken;\n\n      try {\n        userToken = await AuthService.shared.getCredentials();\n      } catch (e) {\n        // Handle error\n      }\n\n      dispatch({type: ActionTypes.RESTORE_TOKEN, payload: !userToken});\n    };\n\n    restoreToken();\n  }, []);\n\n  return (\n    <AuthContext.Provider value={authContext}>\n      {children(state)}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthProvider;\n"],"names":["_define_property","require","_object_spread","target","i","arguments","source","ownKeys","Object","sym","key","exports","object","enumerableOnly","keys","symbols","_object_spread_props","React","AuthContext","useAuth","_class_call_check","instance","Constructor","TypeError","AsyncStorage","AuthService","getCredentials","setCredentials","token","removeCredentials","ActionTypes","reducer","prevState","action","AuthProvider","children","_React_useReducer","state","dispatch","authContext","e","restoreToken","userToken"],"mappings":"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"}